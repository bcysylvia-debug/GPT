<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>å¡”ç½—å åœ Tarot</title>

<style>
body {
  margin: 0;
  padding: 20px;
  background: #141414;
  color: #eee;
  font-family: "Microsoft YaHei", sans-serif;
}
h1, h2 {
  text-align: center;
  margin-bottom: 10px;
}
section {
  margin-bottom: 60px;
}
button {
  background: #6a5cff;
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 8px 14px;
  cursor: pointer;
  margin: 5px;
}
button:hover {
  background: #8579ff;
}

/* å¡ç‰Œ */
.card-area {
  display: flex;
  justify-content: center;
  gap: 20px;
  flex-wrap: wrap;
}
.card {
  width: 120px;
  height: 200px;
  position: relative;
  cursor: pointer;
  transition: transform .3s;
}
.card img {
  width: 100%;
  height: 100%;
  border-radius: 10px;
}
.reversed img {
  transform: rotate(180deg);
}
.label {
  text-align: center;
  margin-top: 6px;
  font-size: 14px;
}

/* è‡ªç”±ç‰Œæ¡Œ */
.table {
  display: grid;
  grid-template-columns: repeat(auto-fill, 80px);
  gap: 10px;
  justify-content: center;
}
.table .card {
  width: 80px;
  height: 130px;
}
.opened {
  transform: scale(1.6);
  z-index: 99;
}

/* Yes No ç»“æœ */
.result {
  position: absolute;
  bottom: 8px;
  left: 0;
  right: 0;
  text-align: center;
  background: rgba(0,0,0,.6);
  font-size: 14px;
  padding: 4px;
}
</style>
</head>

<body>

<h1>ğŸ”® å¡”ç½—å åœ</h1>

<!-- åœ£ä¸‰è§’ -->
<section>
  <h2>åœ£ä¸‰è§’å åœï¼ˆè¿‡å» / ç°åœ¨ / æœªæ¥ï¼‰</h2>
  <div style="text-align:center">
    <button onclick="drawTriangle()">éšæœºæŠ½ç‰Œ</button>
  </div>
  <div class="card-area" id="triangle"></div>
</section>

<!-- è‡ªç”±ç‰Œæ¡Œ -->
<section>
  <h2>è‡ªç”±æ— ç‰Œé˜µï¼ˆè‡ªç”±ç‰Œæ¡Œï¼‰</h2>
  <div style="text-align:center">
    <button onclick="randomFree()">éšæœºæŠ½ä¸‰å¼ </button>
  </div>
  <div class="table" id="freeTable"></div>
</section>

<!-- Yes / No -->
<section>
  <h2>Yes / No å†³ç­–å åœ</h2>
  <div style="text-align:center">
    <button onclick="drawYesNo()">æŠ½ä¸€å¼ ç‰Œ</button>
  </div>
  <div class="card-area" id="yesno"></div>
</section>

<script>
// ===== ç¨³å®šå›¾ç‰‡æº =====
const base = "https://cdn.jsdelivr.net/gh/iamkun/dayjs@dev/docs/public/";
const tarotImages = [];
for (let i = 0; i < 78; i++) {
  tarotImages.push(`${base}tarot_${i+1}.jpg`);
}
const cardBack = `${base}tarot_back.jpg`;

// ===== Yes / No ç‰Œåº“ =====
const yesNoDeck = [
  {result:"ç­‰å¾…æ—¶æœº"},
  {result:"ç­‰å¾…æ—¶æœº"},
  {result:"ç­‰å¾…æ—¶æœº"},
  {result:"ç­‰å¾…æ—¶æœº"},
  {result:"æ˜ç¡®çš„æ˜¯"},
  {result:"æ˜ç¡®çš„æ˜¯"},
  {result:"æ˜ç¡®çš„æ˜¯"},
  {result:"æ˜ç¡®çš„æ˜¯"},
  {result:"æ˜ç¡®çš„æ˜¯"},
  {result:"æ˜ç¡®çš„æ˜¯"},
  {result:"æ˜ç¡®çš„å¦"},
  {result:"æ˜ç¡®çš„å¦"},
  {result:"æ˜ç¡®çš„å¦"},
  {result:"æ˜ç¡®çš„å¦"},
  {result:"ç›´è§‰åˆ¤æ–­"},
  {result:"ç›´è§‰åˆ¤æ–­"},
  {result:"ç›´è§‰åˆ¤æ–­"}
];

// ===== åœ£ä¸‰è§’ =====
function drawTriangle(){
  const labels=["è¿‡å»","ç°åœ¨","æœªæ¥"];
  const area=document.getElementById("triangle");
  area.innerHTML="";
  for(let i=0;i<3;i++){
    const img=tarotImages[Math.floor(Math.random()*78)];
    const rev=Math.random()<0.5;
    area.innerHTML+=`
      <div>
        <div class="card ${rev?'reversed':''}">
          <img src="${img}">
        </div>
        <div class="label">${labels[i]} ${rev?"é€†ä½":"æ­£ä½"}</div>
      </div>`;
  }
}

// ===== è‡ªç”±ç‰Œæ¡Œ =====
const table=document.getElementById("freeTable");
for(let i=0;i<78;i++){
  const c=document.createElement("div");
  c.className="card";
  c.innerHTML=`<img src="${cardBack}">`;
  c.onclick=function(){
    if(c.classList.contains("opened")) return;
    const img=tarotImages[i];
    const rev=Math.random()<0.5;
    c.innerHTML=`<img src="${img}" style="transform:${rev?'rotate(180deg)':''}">`;
    c.classList.add("opened");
  }
  table.appendChild(c);
}
function randomFree(){
  [...table.children].forEach(c=>c.classList.remove("opened"));
  for(let i=0;i<3;i++){
    table.children[Math.floor(Math.random()*78)].click();
  }
}

// ===== Yes / No =====
function drawYesNo(){
  const area=document.getElementById("yesno");
  area.innerHTML="";
  const card=yesNoDeck[Math.floor(Math.random()*yesNoDeck.length)];
  const img=tarotImages[Math.floor(Math.random()*78)];
  area.innerHTML=`
    <div class="card">
      <img src="${img}">
      <div class="result">${card.result}</div>
    </div>`;
}
</script>

</body>
</html>
