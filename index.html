<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>塔罗牌占卜</title>

<style>
body {
  margin: 0;
  padding: 20px;
  background: #f6f1ea;
  font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Microsoft YaHei", sans-serif;
  text-align: center;
}

h1 {
  margin-bottom: 10px;
}

button {
  padding: 10px 20px;
  font-size: 16px;
  cursor: pointer;
  border: none;
  background: #333;
  color: #fff;
  border-radius: 6px;
}

#tip {
  margin-top: 12px;
  color: #555;
}

#cards {
  margin-top: 20px;
  display: flex;
  justify-content: center;
  gap: 10px;
}

/* 牌背尺寸（小） */
.card {
  width: 70px;
  height: 110px;
  background-image: url("https://upload.wikimedia.org/wikipedia/commons/thumb/5/54/Tarot_card_back.jpg/256px-Tarot_card_back.jpg");
  background-size: cover;
  background-position: center;
  border-radius: 6px;
  cursor: pointer;
  transition: transform 0.3s;
}

/* 翻开后的尺寸（不要太大） */
.card.open {
  width: 130px;
  height: 210px;
}
</style>
</head>

<body>

<h1>自由抽塔罗</h1>
<button id="drawBtn">随机抽取三张牌</button>
<div id="tip">点击按钮开始占卜</div>

<div id="cards"></div>

<script>
/*
  使用 Rider–Waite 塔罗（Wikimedia 公共资源）
  稳定、免费、无需自己导图
*/
const tarotImages = [
  "https://upload.wikimedia.org/wikipedia/commons/9/90/RWS_Tarot_00_Fool.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/d/de/RWS_Tarot_01_Magician.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/8/88/RWS_Tarot_02_High_Priestess.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/d/d2/RWS_Tarot_03_Empress.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/c/c3/RWS_Tarot_04_Emperor.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/8/8d/RWS_Tarot_05_Hierophant.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/d/db/RWS_Tarot_06_Lovers.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/9/9b/RWS_Tarot_07_Chariot.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/f/f5/RWS_Tarot_08_Strength.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/4/4d/RWS_Tarot_09_Hermit.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/3/3c/RWS_Tarot_10_Wheel_of_Fortune.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/e/e0/RWS_Tarot_11_Justice.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/2/2b/RWS_Tarot_12_Hanged_Man.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/d/d7/RWS_Tarot_13_Death.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/f/f8/RWS_Tarot_14_Temperance.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/5/55/RWS_Tarot_15_Devil.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/5/53/RWS_Tarot_16_Tower.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/d/db/RWS_Tarot_17_Star.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/7/7f/RWS_Tarot_18_Moon.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/1/17/RWS_Tarot_19_Sun.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/d/dd/RWS_Tarot_20_Judgement.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/f/ff/RWS_Tarot_21_World.jpg"
];

const cardsDiv = document.getElementById("cards");
const tip = document.getElementById("tip");
const btn = document.getElementById("drawBtn");

btn.onclick = () => {
  cardsDiv.innerHTML = "";
  tip.innerText = "请依次点击翻开三张牌";

  const selected = shuffle(tarotImages).slice(0, 3);

  selected.forEach(img => {
    const card = document.createElement("div");
    card.className = "card";
    card.dataset.img = img;
    cardsDiv.appendChild(card);
  });
};

cardsDiv.onclick = e => {
  const card = e.target;
  if (!card.classList.contains("card")) return;
  if (card.classList.contains("open")) return;

  card.classList.add("open");
  card.style.backgroundImage = `url(${card.dataset.img})`;

  if (document.querySelectorAll(".card.open").length === 3) {
    tip.innerText = "占卜完成 ✨";
  }
};

function shuffle(arr) {
  const a = [...arr];
  for (let i = a.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}
</script>

</body>
</html>
